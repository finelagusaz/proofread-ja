---
name: proofread-ja
description: >-
  日本語テキストの校正スキル。誤字脱字・同音異義語の検出、表記揺れの統一、
  文法チェック（ら抜き・さ入れ・重複表現）を実行し、校正結果を報告。
  トリガー: 「校正して」「誤字脱字チェック」「表記揺れ確認」「軽くチェック」
  「しっかり校正」。小説・技術文書・ブログ・ビジネス文書に対応。
---

# 日本語校正スキル

## スコープと制限

### 処理可能な文字数

| 文字数          | 処理方針                                                                 |
|-----------------|--------------------------------------------------------------------------|
| 〜3,000字       | 全文を一括チェック                                                       |
| 3,000〜10,000字 | セクション単位で順次チェック、最後に全体の表記揺れを確認                 |
| 10,000字〜      | ユーザーに分割を提案、重点箇所の指定、または「表記揺れのみ全文チェック」 |

### 処理モード

ユーザーの依頼に応じてモードを選択する。明示的な指定がない場合（「これ見て」「ちょっと直して」など）は**標準モード**をデフォルトとする。

| モード       | トリガー例                                         | 出力                                  |
|--------------|----------------------------------------------------|---------------------------------------|
| 詳細         | 「しっかり校正して」「全部チェック」               | 全カテゴリ・全確信度の指摘             |
| 標準         | 「校正して」「チェックして」                       | 確信度：高・中の指摘 + 低は参考表示   |
| 簡易         | 「軽くチェック」「ざっと見て」「明らかな誤字だけ」 | 確信度：高のみ、箇条書きで報告        |
| 表記統一のみ | 「表記揺れだけ確認」                               | 表記揺れの一覧のみ                    |

### エッジケース

| ケース                     | 対応                                                                         |
|----------------------------|------------------------------------------------------------------------------|
| 日本語以外が大半のテキスト | 日本語部分のみ校正対象とし、英文等はそのまま維持。その旨をユーザーに伝える   |
| 極端に短い入力（1〜2文）   | モード選択を省略し、気づいた点があれば報告。なければ「問題ありません」と回答 |
| 矛盾する指示               | ユーザーに確認する（例：「簡易モードで全カテゴリ」→ どちらを優先するか質問） |
| コード領域（インライン/fenced/インデント） | バッククォート囲みのインラインコード、fenced code block、インデントコードブロックは校正対象外。コメントのみ対象にしたい場合はユーザーに確認 |

## チェック項目

以下の4カテゴリを順にチェック。具体的パターンは `references/common-errors.md` 参照。

1. **誤字脱字**: 同音異義語、タイポ、送り仮名、変換ミス
2. **表記揺れ**: 漢字/ひらがな、カタカナ長音、全角/半角、句読点
3. **文体一貫性**: 敬体/常体の混在、一人称の統一
4. **文法・語法**: ら抜き、さ入れ、重複表現、助詞の誤用

## ワークフロー

### 0. 入力の受け取り

| 入力形式         | 対応                                                       |
|------------------|------------------------------------------------------------|
| テキスト直貼り   | そのまま校正対象とする                                     |
| ファイルパス指定 | ファイルを読み込んで校正対象とする                         |
| IDE選択範囲      | 選択されたテキストを校正対象とする                         |
| 入力なし         | 「校正するテキストを貼り付けるか、ファイルパスを指定してください」と案内 |

### 1. テキストの分析

以下の順で分析する。

#### 文字数の確認

文字数を概算し、「処理可能な文字数」テーブルに従って処理方針を決定する。
10,000字を超える場合はユーザーに分割を提案し、承認を得てから次に進む。

#### 文書タイプの判定

文書の種類を判定し、適切なチェック基準を選択する。

| 文書タイプ     | 判定の手がかり               | チェック方針                                               |
|----------------|------------------------------|------------------------------------------------------------|
| 小説・エッセイ | 一人称語り、情景描写、会話文 | ひらがな多め許容、文体の一貫性重視、会話文内は方言・口語OK |
| 技術文書       | コード、API、手順説明        | 漢字多め、用語の統一重視、長音符の統一                     |
| ブログ・記事   | 見出し、読者への呼びかけ     | 文体の混在は文脈次第で許容                                 |
| ビジネス文書   | 敬語、宛名、署名             | 敬語の正確さ、二重敬語チェック                             |

### 2. 詳細チェックの実行

以下のリファレンスファイルを参照してチェックを行う：

1. **references/common-errors.md** - 典型的な誤りのパターン
2. **references/consistency-rules.md** - 表記統一の基準
3. **references/custom-terms.md** - プロジェクト固有の用語の探し方

判断に迷う場合は **examples/boundary-cases.md** を参照。

#### リファレンスの読み込み方針

| モード       | common-errors.md       | consistency-rules.md | custom-terms.md（探索ガイド） |
|-------------|------------------------|---------------------|-------------------------------|
| 簡易         | 不要（自身の知識で判断）| 不要                | あれば参照し外部用語を探索     |
| 標準         | 該当セクションのみ     | 該当セクションのみ  | 参照し外部用語を探索           |
| 詳細         | 全文                   | 全文                | 参照し外部用語を探索           |
| 表記統一のみ | 不要                   | 全文                | 参照し外部用語を探索           |

#### common-errors.md のセクション別参照

| チェック対象               | セクション見出し                        |
|-------------------------------|--------------------------------------|
| 同音異義語                       | `## 同音異義語`                        |
| 形式名詞・補助動詞のひらがな表記 | `### ひらがな表記推奨（形式名詞・補助動詞）`|
| 意味の取り違え                   | `## 意味の取り違え`                  |
| 敬語                             | `## 尊敬語・謙譲語の誤用`             |
| 重複表現                         | `## 重複表現（二重表現）`              |
| ら抜き・さ入れ・れ足す           | `## ら抜き言葉` / `## さ入れ言葉` / `## れ足す言葉` |

#### consistency-rules.md のセクション別参照

| チェック対象         | セクション見出し          |
|---------------------|--------------------------|
| 送り仮名             | `## 送り仮名の統一`      |
| 漢字/ひらがな選択    | `## 漢字/ひらがな選択`    |
| カタカナ長音符       | `## カタカナ長音符`       |
| 全角/半角            | `## 英数字の全角/半角`    |
| 句読点               | `## 句読点`              |
| 括弧                 | `## 括弧の使い分け`      |
| 文体（敬体/常体）    | `## 文体の一貫性`        |
| 一人称               | `## 一人称の統一`        |

### 3. 結果の報告

#### 確信度の定義

| 確信度 | 基準                                             | 例                                                 |
|--------|--------------------------------------------------|----------------------------------------------------|
| 高     | 明らかな誤り。文脈に関わらず修正すべき           | 「以外と簡単」→「意外と」、「見れる」→「見られる」 |
| 中     | 表記揺れ、または文書タイプによって判断が分かれる | 「こと」と「事」の混在、長音符の不統一             |
| 低     | 意図的な可能性がある、または許容される場合もある | 会話文中の「ら抜き」、口語的な「全然いい」         |

#### 報告フォーマット（標準モード）

```markdown
## 校正結果

### 修正提案（確信度：高）

| 行   | 現在の表記 | 修正案   | 理由                               |
|------|------------|----------|------------------------------------|
| L3   | 以外と     | 意外と   | 同音異義語（「思いがけず」の意味） |
| L12  | 見れる     | 見られる | ら抜き言葉                         |

### 確認事項（確信度：中）

文書内で以下の表記が混在しています。どちらかに統一してください。

| 表記A    | 出現  | 表記B  | 出現  | 推奨                           |
|----------|-------|--------|-------|--------------------------------|
| こと     | 8箇所 | 事     | 3箇所 | 「こと」（形式名詞はひらがな） |
| ユーザー | 5箇所 | ユーザ | 2箇所 | どちらでも可（統一が必要）     |

### 要確認（確信度：低）※標準モードでは参考表示

| 行   | 表記           | 確認事項                             |
|------|----------------|--------------------------------------|
| L1   | 「全然大丈夫」 | 会話文中の口語表現。意図的であれば問題なし |

```

#### 他モードとの差分

| モード       | タイトル               | 標準モードとの違い                                                       |
|-------------|------------------------|--------------------------------------------------------------------------|
| 簡易         | 校正結果（簡易チェック）| 確信度：高のみ箇条書き（`- L3「以外と」→「意外と」`）                   |
| 詳細         | 校正結果（詳細チェック）| 各テーブルにカテゴリ列を追加。文体・構成に関するコメントセクションを追加 |
| 表記統一のみ | 表記揺れチェック結果   | 表記揺れテーブルのみ出力                                                 |

詳細な出力例は examples/output-sample.md を参照。

## 判断基準

### 修正すべき（確信度：高）

- 明らかな誤字脱字（変換ミス、タイポ）
- 同音異義語の誤用で意味が通らない
- 文法的な誤り（活用形の誤り）
- 二重敬語（ビジネス文書の場合）
- 意味が変わる誤り

### 確認が必要（確信度：中）

- 表記揺れ（どちらも正しい場合）
- 文書タイプによって判断が分かれるもの
- 漢字/ひらがなの選択
- 提案のみとし、ユーザーの判断に委ねる

### 指摘のみ（確信度：低）

- 会話文・台詞内の口語表現
- 文体の意図的な混在の可能性
- 作者の個性として許容される表現

### 修正しない

- 引用文中の表記（原文ママ）
- 固有名詞（人名、作品名、商品名）
- 明示的に「許容」と設定された表現（custom-terms.md）
- 小説の登場人物の口調・方言

## 優先順位

大量の問題がある場合の報告順序：

| 優先度         | 内容                             | 確信度 |
|---------------|----------------------------------|--------|
| 1. クリティカル | 意味が変わる誤字（同音異義語）   | 高     |
| 2. 重要        | 文法エラー（ら抜き、さ入れ）     | 高     |
| 3. 中程度      | 表記揺れ（統一提案が必要な箇所） | 中     |
| 4. 軽微        | スタイルの問題（冗長表現、句読点）| 中〜低 |

指摘が20件を超える場合は、クリティカル・重要を優先し、軽微な問題は「他に○件の軽微な指摘があります」とまとめる。

## 参照ファイル

| ファイル                        | 内容                                   |
|---------------------------------|----------------------------------------|
| references/common-errors.md     | よくある誤字脱字のパターン集           |
| references/consistency-rules.md | 表記統一の判断基準とルール             |
| references/custom-terms.md      | プロジェクト用語ファイルの探索ガイド（データは外部） |
| examples/boundary-cases.md      | 判断の境界例（直す/確認/維持の分岐点） |
| examples/output-sample.md       | 出力形式の具体例                       |
